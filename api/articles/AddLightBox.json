{"title":"给Aurora主题添加图片灯箱","uid":"63b83d752978f6e1cb65e67241c95de9","slug":"AddLightBox","date":"2021-08-13T09:13:11.000Z","updated":"2022-06-01T12:55:25.662Z","comments":true,"path":"api/articles/AddLightBox.json","keywords":"编程,笔记,生活,感悟,诗歌,音乐,影视,博客,Hexo","cover":"/images/RaumzeitBlog/202108131716513.jpg","content":"<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><code>Aurora</code>主题外观很好，但是却没有<code>next</code>主题完美，这不，就没有图片灯箱功能，这让本来就近视的我更加看不清图片。</p>\n<p>所以经过一早上的奋斗，终于在网上找到了解决方案。</p></blockquote>\n<div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">提示</p>\n<p><p>由于主题自定义化模块较少，所以需要更改源码</p>\n<p>由于使用的是<code>fancybox</code>，所以需要引入<code>jquery</code></p>\n</p>\n</div>\n<h3 id=\"config-aurora-yml文件配置\"><a href=\"#config-aurora-yml文件配置\" class=\"headerlink\" title=\"_config.aurora.yml文件配置\"></a><code>_config.aurora.yml</code>文件配置</h3><p>打开主题配置文件<code>_config.aurora.yml</code>，在文件最后添加</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\">injects:\n  scripts:\n    - &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;jquery@3.3.1&#x2F;dist&#x2F;jquery.min.js&quot;&gt;&lt;&#x2F;script&gt; #fancybox依赖文件\n    - &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;fancyapps&#x2F;fancybox@master&#x2F;dist&#x2F;jquery.fancybox.min.js&quot;&gt;&lt;&#x2F;script&gt; #fancybox所需js文件\n  css:\n    - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;fancyapps&#x2F;fancybox@master&#x2F;dist&#x2F;jquery.fancybox.min.css&quot;&gt; #fancybox所需css文件</code></pre>\n\n<h3 id=\"修改markdown的生成模板\"><a href=\"#修改markdown的生成模板\" class=\"headerlink\" title=\"修改markdown的生成模板\"></a>修改<code>markdown</code>的生成模板</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>由于主题使用<code>hexo</code>自带的<code>hexo-renderer-marked</code>插件来生成文章内容，而且<code>fancybox</code>需要修改<code>img</code>属性，所以需要找到<code>node_modules\\hexo-renderer-marked\\lib\\renderer.js</code>文件</p></blockquote>\n<p>如图，定位到大概131行，将代码</p>\n<p><a data-fancybox=\"gallery\" href=\"/images/RaumzeitBlog/202108131733267.png\"><img src=\"/images/RaumzeitBlog/202108131733267.png\" alt=\"图片灯箱\"></a></p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">let out &#x3D; &#96;&lt;img src&#x3D;&quot;$&#123;encodeURL(href)&#125;&quot;&#96;;\nif (text) out +&#x3D; &#96; alt&#x3D;&quot;$&#123;text&#125;&quot;&#96;;\nif (title) out +&#x3D; &#96; title&#x3D;&quot;$&#123;title&#125;&quot;&#96;;\nif (lazyload) out +&#x3D; &#39; loading&#x3D;&quot;lazy&quot;&#39;;\n\nout +&#x3D; &#39;&gt;&#39;;\nreturn out;</code></pre>\n\n<p>改为</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">let out &#x3D; &#96;&lt;a data-fancybox&#x3D;&quot;gallery&quot; href&#x3D;&quot;$&#123;encodeURL(href)&#125;&quot;&gt;&lt;img src&#x3D;&quot;$&#123;encodeURL(href)&#125;&quot;&#96;;\nif (text) out +&#x3D; &#96; alt&#x3D;&quot;$&#123;text&#125;&quot;&#96;;\nif (title) out +&#x3D; &#96; title&#x3D;&quot;$&#123;title&#125;&quot;&#96;;\nif (lazyload) out +&#x3D; &#39; loading&#x3D;&quot;lazy&quot;&#39;;\n\nout +&#x3D; &#39;&gt;&lt;&#x2F;a&gt;&#39;;\nreturn out;</code></pre>\n\n<p>即可。</p>\n<p>最后<code>hexo cl &amp; hexo g &amp; hexo s</code>一键三连即可。</p>\n<p>看一下效果：</p>\n<p><a data-fancybox=\"gallery\" href=\"/images/RaumzeitBlog/202108131740879.png\"><img src=\"/images/RaumzeitBlog/202108131740879.png\" alt=\"图片灯箱\"></a></p>\n<div class=\"custom-quote warning\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 8V13\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12 15.99V16.01\"></path>\n</svg>\n</span>\n<p class=\"custom-quote-title\">注意</p>\n<p>不知道是什么原因，图片点击放大后，再关掉图片，页面会不自主地返回到顶端，目前，我也没有办法解决，如果小伙伴知道如何解决，希望也给博主指点指点。</p>\n\n</div>\n","feature":"true","text":" Aurora主题外观很好，但是却没有next主题完美，这不，就没有图片灯箱功能，这让本来就近视的我更加看不清图片。 所以经过一早上的奋斗，终于在网上找到了解决方案。 提示 由于主题自定义化模块较少，所以需要更改源码 由于使用的是fancybox，所以需要引入jquery _co...","link":"","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"Aurora","slug":"Aurora","count":4,"path":"api/categories/Aurora.json"}],"tags":[{"name":"Aurora","slug":"Aurora","count":4,"path":"api/tags/Aurora.json"},{"name":"魔改","slug":"魔改","count":4,"path":"api/tags/魔改.json"},{"name":"图片灯箱","slug":"图片灯箱","count":1,"path":"api/tags/图片灯箱.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#config-aurora-yml%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">_config.aurora.yml文件配置</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9markdown%E7%9A%84%E7%94%9F%E6%88%90%E6%A8%A1%E6%9D%BF\"><span class=\"toc-text\">修改markdown的生成模板</span></a></li></ol>","author":{"name":"三月","slug":"blog-author","avatar":"/images/info/logo.png","link":"/","description":"我有两台电脑，一台用来写代码，另一台也用来写代码。","socials":{"github":"https://github.com/OriOYue","twitter":"","stackoverflow":"https://stackoverflow.com/users/16669353/meerost","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/MeerOst","csdn":"https://blog.csdn.net/qq_41674631?spm=1010.2135.3001.5421","juejin":"","customs":{"bilibili":{"icon":"/images/RaumzeitBlog/202108151153891.svg","link":"https://space.bilibili.com/510117433"},"book":{"icon":"/images/RaumzeitBlog/202108151153746.svg","link":"https://www.douban.com/people/MeerOst/"}}}},"mapped":true,"prev_post":{"title":"宝塔搭建fiora聊天室","uid":"204fdc58f3392f2efeae8886857c8e77","slug":"MiOuChat","date":"2021-08-20T07:31:38.000Z","updated":"2022-05-25T11:20:01.300Z","comments":true,"path":"api/articles/MiOuChat.json","keywords":"编程,笔记,生活,感悟,诗歌,音乐,影视,博客,Hexo","cover":[],"text":"情境引入 fiora介绍 fiora 是一款有趣的聊天应用. 基于 node.js, mongodb, react 和 socket.io 等技术开发 项目地址：Fiora功能 1.注册账号并登录, 可以长久保存你的数据 2.加入现有群组或者创建自己的群组, 来和大家交流 3.和...","link":"","photos":[],"count_time":{"symbolsCount":"6.8k","symbolsTime":"6 mins."},"categories":[{"name":"Diy","slug":"Diy","count":1,"path":"api/categories/Diy.json"}],"tags":[{"name":"fiora","slug":"fiora","count":1,"path":"api/tags/fiora.json"},{"name":"Diy","slug":"Diy","count":1,"path":"api/tags/Diy.json"}],"author":{"name":"三月","slug":"blog-author","avatar":"/images/info/logo.png","link":"/","description":"我有两台电脑，一台用来写代码，另一台也用来写代码。","socials":{"github":"https://github.com/OriOYue","twitter":"","stackoverflow":"https://stackoverflow.com/users/16669353/meerost","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/MeerOst","csdn":"https://blog.csdn.net/qq_41674631?spm=1010.2135.3001.5421","juejin":"","customs":{"bilibili":{"icon":"/images/RaumzeitBlog/202108151153891.svg","link":"https://space.bilibili.com/510117433"},"book":{"icon":"/images/RaumzeitBlog/202108151153746.svg","link":"https://www.douban.com/people/MeerOst/"}}}},"feature":"true"},"next_post":{"title":"腾讯云轻量应用服务器流量监控","uid":"ae8d8aadd92f12202a5a9fd9d8ea753d","slug":"LightHouseFlowMonitor","date":"2021-08-12T13:11:45.000Z","updated":"2022-05-24T20:21:05.572Z","comments":true,"path":"api/articles/LightHouseFlowMonitor.json","keywords":"编程,笔记,生活,感悟,诗歌,音乐,影视,博客,Hexo","cover":"/images/RaumzeitBlog/202108122115628.jpg","text":"情景引入 众所周知，作为“良心云”的腾讯云很早之前就推出了轻量应用服务器，其中最受青睐的就是香港轻量应用服务器了，作为一枚穷人，博主也是用的1H2G的香港轻量。虽然性价比高，但也有无奈的一面，如：每月流量限制，超出另计费。作为白嫖党，自然不能因为DDOS而让自己走上破产。所以我借...","link":"","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[{"name":"服务器","slug":"服务器","count":1,"path":"api/categories/服务器.json"}],"tags":[{"name":"腾讯云","slug":"腾讯云","count":1,"path":"api/tags/腾讯云.json"},{"name":"服务器","slug":"服务器","count":1,"path":"api/tags/服务器.json"}],"author":{"name":"三月","slug":"blog-author","avatar":"/images/info/logo.png","link":"/","description":"我有两台电脑，一台用来写代码，另一台也用来写代码。","socials":{"github":"https://github.com/OriOYue","twitter":"","stackoverflow":"https://stackoverflow.com/users/16669353/meerost","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/MeerOst","csdn":"https://blog.csdn.net/qq_41674631?spm=1010.2135.3001.5421","juejin":"","customs":{"bilibili":{"icon":"/images/RaumzeitBlog/202108151153891.svg","link":"https://space.bilibili.com/510117433"},"book":{"icon":"/images/RaumzeitBlog/202108151153746.svg","link":"https://www.douban.com/people/MeerOst/"}}}},"feature":true}}