{"title":"Hexo主题Aurora的魔改（一）","uid":"f77b152672890a26783ed774335d437b","slug":"AuroraMagicChangeFirst","date":"2021-08-11T05:58:48.000Z","updated":"2022-05-24T20:19:43.493Z","comments":true,"path":"api/articles/AuroraMagicChangeFirst.json","keywords":"编程,笔记,生活,感悟,诗歌,音乐,影视,博客,Hexo","cover":"/images/RaumzeitBlog/202108112106077.JPG","content":"<h1 id=\"Hexo主题Aurora的魔改（一）\"><a href=\"#Hexo主题Aurora的魔改（一）\" class=\"headerlink\" title=\"Hexo主题Aurora的魔改（一）\"></a>Hexo主题Aurora的魔改（一）</h1><p>刚接触<code>Hexo</code>，就碰到了这么好的主题，如图是<code>Aurora</code>作者的博客展示：</p>\n<p>你可以从去<a href=\"https://github.com/auroral-ui/hexo-theme-aurora\" target=\"_blank\" rel=\"nofollow\">Github</a>了解<code>Hexo</code>和<code>Aurora</code>主题。</p>\n<p><a data-fancybox=\"gallery\" href=\"/images/RaumzeitBlog/202108111410048.png\"><img src=\"/images/RaumzeitBlog/202108111410048.png\" alt=\"Aurora主题展示\"></a></p>\n<p><a data-fancybox=\"gallery\" href=\"/images/RaumzeitBlog/202108111419889.png\"><img src=\"/images/RaumzeitBlog/202108111419889.png\" alt=\"Aurora主题展示\"></a></p>\n<p>虽然主题很好看，但是对于刚接触<code>Hexo</code>，折腾起来是有点棘手。</p>\n<p>安装出现问题，主题修改摸不着头脑，<code>Deploy</code>出现问题。</p>\n<p>下面我将从替换源站静态文件和图片文件链接，以及替换<code>cdns.cloudflare.com</code>链接两个方面来介绍我修改的内容，以后可能还有，敬请期待。</p>\n<h2 id=\"替换源站链接\"><a href=\"#替换源站链接\" class=\"headerlink\" title=\"替换源站链接\"></a>替换源站链接</h2><p>由于<code>github.io</code>在国内的访问速度很慢，而且也不容易被爬虫抓取，所以我果断选择了在自己的服务器上部署hexo发布的静态文件，关于 如何通过宝塔在自己的服务器上部署<code>hexo</code>站点，可以参考 这两位 博主的做法 :</p>\n<p><a href=\"https://www.heson10.com/posts/51315.html\" target=\"_blank\" rel=\"nofollow\">Hexo 部署至云服务器（宝塔面板） - 黑石博客 - Hexo博客 (heson10.com)</a></p>\n<p><a href=\"https://www.jsopy.com/2020/03/08/setuphexo/\" target=\"_blank\" rel=\"nofollow\">用宝塔面板将hexo部署到阿里云 | JSOPY</a></p>\n<p>如果<code>Hexo d</code>时碰到 <code>bash: git-receive-pack: command not found fatal: Could not read from remote repository. </code>这样的问题，可以参考：</p>\n<p><a href=\"https://blog.csdn.net/li1325169021/article/details/111874334\" target=\"_blank\" rel=\"nofollow\">bash: git-receive-pack: command not found fatal: Could not read from remote repository._小志的博客-CSDN博客</a></p>\n<p>但是问题又来了，由于我是用的腾讯云的1H2G的香港轻量，资源不够，所以想像<code>wordpress</code>那样弄一个CDN，以及自动替换源站链接为CDN链接，但是搜索了一圈，也没能找到好的方法来自动替换链接，以下是我搜索到的方法，都不太有用，如果有网友实验成功，可以告知以下博主，我也想白嫖。</p>\n<p><a href=\"https://renzibei.com/2020/07/12/使用jsdelivr-CDN-加速hexo的图片等静态资源加载/\" target=\"_blank\" rel=\"nofollow\">自动使用jsdelivr CDN 加速hexo的图片等静态资源加载 | 鸿雁自南人自北 (renzibei.com)</a></p>\n<p><a href=\"https://segmentfault.com/a/1190000022531769\" target=\"_blank\" rel=\"nofollow\">使用 jsDelivr 免费加速 GitHub Pages 博客的静态资源 - SegmentFault 思否</a></p>\n<p><a href=\"https://blog.yuanpei.me/posts/1417719502/\" target=\"_blank\" rel=\"nofollow\">使用 jsDelivr 为 Hexo 博客提供高效免费的CDN加速 | 素履独行 (yuanpei.me)</a></p>\n<p>暂时没法，只能一个个去替换使用的链接，</p>\n<h3 id=\"1-替换head里的link\"><a href=\"#1-替换head里的link\" class=\"headerlink\" title=\"1.替换head里的link\"></a>1.替换head里的link</h3><p>找到路径：<code>Hexo\\node_modules\\hexo-theme-aurora\\layout\\index.js</code></p>\n<p>修改head头里面的引用链接，如：</p>\n<p><code>/favicon.ico</code></p>\n<p><code>/static/css/chunk-libs.eebac533.css</code></p>\n<p><code>/static/css/app.0d31776f.css</code></p>\n<p>将这些链接修改为你的cdn链接，如<code>jsdelivr</code></p>\n<h3 id=\"2-其他链接替换\"><a href=\"#2-其他链接替换\" class=\"headerlink\" title=\"2.其他链接替换\"></a>2.其他链接替换</h3><p>还是上面的<code>index.ejs</code>文件，ctrl+f搜索  <code>i.p=&quot;/&quot;  </code></p>\n<p>将  <code>i.p=&quot;/&quot;</code>  改为cdn链接 ，如：<code>i.p=&quot;https://cdn.jsdelivr.net/gh/MeerOst/meerost.github.io@master/&quot;</code></p>\n<p>这样即可，去游览器f12，可以看到源站链接只有html和json文件了</p>\n<h2 id=\"替换cdns-cloudflare-com链接\"><a href=\"#替换cdns-cloudflare-com链接\" class=\"headerlink\" title=\"替换cdns.cloudflare.com链接\"></a>替换<code>cdns.cloudflare.com</code>链接</h2><p>由于主题引用了<code>cdnjs.cloudflare.com</code>链接，而这个域名在国内访问慢，ping值高，所以速度并不理想，甚至还会出现一直绕圈的情况。所以需要替换链接，</p>\n<p>f12查看，原来是由于引用了<code>clipboard.min.js</code>文件，而这个文件的引用链接并没有出现在主题文件里面，说明是引用的外部文件里面包含了这个<code>clipboard.min.js</code>文件的引用链接，查与<code>clipboard</code>相关的外部文件，发现是<code>prism-copy-to-clipboard.min.js</code>文件，引用了<code>clipboard.min.js</code>文件，现在只需修改<code>prism-copy-to-clipboard.min.js</code>引用链接就可以了。</p>\n<p>这里有许多方法，你可以自己琢磨一下，我的方法是，</p>\n<h3 id=\"1-下载clipboard-min-js文件\"><a href=\"#1-下载clipboard-min-js文件\" class=\"headerlink\" title=\"1.下载clipboard.min.js文件\"></a>1.下载<code>clipboard.min.js</code>文件</h3><p>下载<code>clipboard.min.js</code>文件，并上传到github上，找到其jsdelivr的cdn链接</p>\n<p>，如：<code>https://cdn.jsdelivr.net/gh/MeerOst/MeerOstPubilcStatic/ajax/libs/clipboard.js/2.0.0/clipboard.min.js</code></p>\n<h3 id=\"1-下载prism-copy-to-clipboard-min-js\"><a href=\"#1-下载prism-copy-to-clipboard-min-js\" class=\"headerlink\" title=\"1.下载prism-copy-to-clipboard.min.js\"></a>1.下载<code>prism-copy-to-clipboard.min.js</code></h3><p>下载<code>prism-copy-to-clipboard.min.js</code>文件，将<code>https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js</code>链接替换为jsdelivr的cdn链接，最后将<code>prism-copy-to-clipboard.min.js</code>文件上传到<code>github</code>，并找到其<code>jsdelivr</code>的cdn链接，如：<code>https://cdn.jsdelivr.net/gh/MeerOst/MeerOstPubilcStatic/npm/prismjs@1.23.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js</code></p>\n<h3 id=\"3-替换本地文件链接\"><a href=\"#3-替换本地文件链接\" class=\"headerlink\" title=\"3.替换本地文件链接\"></a>3.替换本地文件链接</h3><p>找到本地路径：<code>Hexo\\\\node_modules\\hexo-theme-aurora\\data\\en.yml</code> 打开<code>en.yml</code>文件，或<code>Hexo\\\\node_modules\\hexo-theme-aurora\\data\\en.yml</code>的<code>cn.yml</code>文件（看你<code>_config.aurora.yml</code>里面的cdn配置使用的是cn还是en）将<code>prism-copy-to-clipboard.min.js</code>文件的引用链接替换为上面的<code>jsdelivr</code>的cdn链接。</p>\n<div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">Valine评论无法显示问题</p>\n<p>​\t- 如果你在cdn配置为en时，valine会出现无法显示的情况（cn我不知道会不会也有这种情况）</p>\n<p>​\t- 最后查明是<code>Valine.min.js</code>文件报错：不存在，你需要找到</p>\n<p>​\t- <code>Hexo\\node_modules\\hexo-theme-aurora\\data\\en.yml </code></p>\n<p>​\t- 文件，将其中<code>Valine.min.js</code>的引用链接改为</p>\n<p>​\t- <code>https://cdn.jsdelivr.net/</code></p>\n<p>​\t- <code>npm/valine@1.4.14/dist/</code></p>\n<p>​\t- <code>Valine.min.js</code>(请自行需要将链接拼接)。</p>\n\n</div>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>由于我是第一次写博客，难免有些错误和啰嗦，望各位xdm多担待，多指点，谢谢！</p></blockquote>\n","text":"Hexo主题Aurora的魔改（一）刚接触Hexo，就碰到了这么好的主题，如图是Aurora作者的博客展示： 你可以从去Github了解Hexo和Aurora主题。 虽然主题很好看，但是对于刚接触Hexo，折腾起来是有点棘手。 安装出现问题，主题修改摸不着头脑，Deploy出现问...","link":"","photos":[],"count_time":{"symbolsCount":"2.8k","symbolsTime":"3 mins."},"categories":[{"name":"Aurora","slug":"Aurora","count":4,"path":"api/categories/Aurora.json"}],"tags":[{"name":"Aurora","slug":"Aurora","count":4,"path":"api/tags/Aurora.json"},{"name":"魔改","slug":"魔改","count":4,"path":"api/tags/魔改.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Hexo%E4%B8%BB%E9%A2%98Aurora%E7%9A%84%E9%AD%94%E6%94%B9%EF%BC%88%E4%B8%80%EF%BC%89\"><span class=\"toc-text\">Hexo主题Aurora的魔改（一）</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9B%BF%E6%8D%A2%E6%BA%90%E7%AB%99%E9%93%BE%E6%8E%A5\"><span class=\"toc-text\">替换源站链接</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E6%9B%BF%E6%8D%A2head%E9%87%8C%E7%9A%84link\"><span class=\"toc-text\">1.替换head里的link</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E5%85%B6%E4%BB%96%E9%93%BE%E6%8E%A5%E6%9B%BF%E6%8D%A2\"><span class=\"toc-text\">2.其他链接替换</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9B%BF%E6%8D%A2cdns-cloudflare-com%E9%93%BE%E6%8E%A5\"><span class=\"toc-text\">替换cdns.cloudflare.com链接</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E4%B8%8B%E8%BD%BDclipboard-min-js%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">1.下载clipboard.min.js文件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E4%B8%8B%E8%BD%BDprism-copy-to-clipboard-min-js\"><span class=\"toc-text\">1.下载prism-copy-to-clipboard.min.js</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-%E6%9B%BF%E6%8D%A2%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E9%93%BE%E6%8E%A5\"><span class=\"toc-text\">3.替换本地文件链接</span></a></li></ol></li></ol></li></ol>","author":{"name":"三月","slug":"blog-author","avatar":"/images/info/logo.png","link":"/","description":"我有两台电脑，一台用来写代码，另一台也用来写代码。","socials":{"github":"https://github.com/OriOYue","twitter":"","stackoverflow":"https://stackoverflow.com/users/16669353/meerost","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/MeerOst","csdn":"https://blog.csdn.net/qq_41674631?spm=1010.2135.3001.5421","juejin":"","customs":{"bilibili":{"icon":"/images/RaumzeitBlog/202108151153891.svg","link":"https://space.bilibili.com/510117433"},"book":{"icon":"/images/RaumzeitBlog/202108151153746.svg","link":"https://www.douban.com/people/MeerOst/"}}}},"mapped":true,"prev_post":{"title":"给Aurora主题添加友情链接页面","uid":"4975abc4b81825c52eb3002d7b12c42f","slug":"AddFriendLinks","date":"2021-08-12T06:50:53.000Z","updated":"2022-05-24T20:17:14.736Z","comments":true,"path":"api/articles/AddFriendLinks.json","keywords":"编程,笔记,生活,感悟,诗歌,音乐,影视,博客,Hexo","cover":"/images/RaumzeitBlog/202108121531822.jpg","text":"用了Aurora主题有一段时间了，今天才发现，主题没有自带友情链接功能。这就有点难办了，由于我并不懂前端知识，所以只能借用CV大法，阅读 Geniucker’s Blog 的教程后成功搞定。 添加友情链接页面通过hexo new page friend-links命令添加友情链接...","link":"","photos":[],"count_time":{"symbolsCount":"5.6k","symbolsTime":"5 mins."},"categories":[{"name":"Aurora","slug":"Aurora","count":4,"path":"api/categories/Aurora.json"}],"tags":[{"name":"Aurora","slug":"Aurora","count":4,"path":"api/tags/Aurora.json"},{"name":"魔改","slug":"魔改","count":4,"path":"api/tags/魔改.json"},{"name":"友情链接","slug":"友情链接","count":1,"path":"api/tags/友情链接.json"}],"author":{"name":"三月","slug":"blog-author","avatar":"/images/info/logo.png","link":"/","description":"我有两台电脑，一台用来写代码，另一台也用来写代码。","socials":{"github":"https://github.com/OriOYue","twitter":"","stackoverflow":"https://stackoverflow.com/users/16669353/meerost","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/MeerOst","csdn":"https://blog.csdn.net/qq_41674631?spm=1010.2135.3001.5421","juejin":"","customs":{"bilibili":{"icon":"/images/RaumzeitBlog/202108151153891.svg","link":"https://space.bilibili.com/510117433"},"book":{"icon":"/images/RaumzeitBlog/202108151153746.svg","link":"https://www.douban.com/people/MeerOst/"}}}},"feature":true},"next_post":{"title":"文章测试","uid":"77ed38adad3d5d6f9ed00db82559cf55","slug":"PostTest","date":"2021-07-31T07:41:49.000Z","updated":"2022-05-24T20:21:15.870Z","comments":true,"path":"api/articles/PostTest.json","keywords":"编程,笔记,生活,感悟,诗歌,音乐,影视,博客,Hexo","cover":null,"text":"文章测试这只是一个功能测试！ ","link":"","photos":[],"count_time":{"symbolsCount":15,"symbolsTime":"1 mins."},"categories":[{"name":"Default","slug":"Default","count":3,"path":"api/categories/Default.json"}],"tags":[{"name":"Test","slug":"Test","count":3,"path":"api/tags/Test.json"}],"author":{"name":"三月","slug":"blog-author","avatar":"/images/info/logo.png","link":"/","description":"我有两台电脑，一台用来写代码，另一台也用来写代码。","socials":{"github":"https://github.com/OriOYue","twitter":"","stackoverflow":"https://stackoverflow.com/users/16669353/meerost","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/MeerOst","csdn":"https://blog.csdn.net/qq_41674631?spm=1010.2135.3001.5421","juejin":"","customs":{"bilibili":{"icon":"/images/RaumzeitBlog/202108151153891.svg","link":"https://space.bilibili.com/510117433"},"book":{"icon":"/images/RaumzeitBlog/202108151153746.svg","link":"https://www.douban.com/people/MeerOst/"}}}}}}